$(function(){function t(t){t.each(function(){var t=$(this).closest(".text-input");$(this).val()||t.addClass("error")})}var a=new Swiper(".swiper-container",{loop:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}),o=$(".modal-overlay, .modal"),i=$("body");$(".modal-button").click(function(){o.addClass("active"),i.toggleClass("modal-lock")}),$(".close-modal").click(function(){o.removeClass("active"),i.toggleClass("modal-lock")});var n=$(".show-models"),e=".models-container",s=".fireplaces-container";n.click(function(){$(this).closest(s).find(e).slideToggle(400)}),$("a").on("click",function(t){if(""!==this.hash){t.preventDefault();var a=this.hash;$("html, body").animate({scrollTop:$(a).offset().top},900,function(){window.location.hash=a})}});var l=$("[data-callback-show]"),c=$("[data-callback-form]");l.click(function(){$(this).closest("[data-callback-state]").attr("data-callback-state","form")}),c.on("focus","input",function(){$(this).closest(".text-input").removeClass("error")}),c.on("click",".text-input",function(){$(this).find("input").focus()}),c.on("submit",function(a){var o=$(this);if(a.preventDefault(),t(o.find("input[type=tel]")),!o.find(".text-input.error").length){var i={type:o.attr("method"),data:o.serialize()};o.find("button[type=submit]").prop("disabled",!0),o.find(".text-input").addClass("disabled"),$.ajax(i).done(function(){o.find("button[type=submit]").prop("disabled",!1).addClass("success").text("Отправлено!")})}})});